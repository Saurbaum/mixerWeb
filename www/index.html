
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>jQuery.post demo</title>
		 <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
		 <link rel="stylesheet" href="./mixer.css">
  		<script src="./jquery-2.1.4.min.js"></script>
		<script src="./jquery-ui.min.js"></script>
  	</head>
	<body>
		<script type="text/javascript">
			var timeoutInterval = 500;
			var sentData = "";
			function postData(path, params) {
				$.post("/" + path, params);
			}
			function initSlider(selector, value) {
			    $( selector ).slider({
			    	orientation: "vertical",
			    	range: "min",
			    	min: 0,
			    	max: 100,
			    	value: 60,
			    	slide: function( event, ui ) {
			    		$( value ).val( ui.value );
			    	}
			    });
			    $( value ).val( $( selector ).slider( "value" ) );
			};
			
			$(function() {
				initSlider("#slider-vertical1", "#amount1");
				initSlider("#slider-vertical2", "#amount2");
				initSlider("#slider-vertical3", "#amount3");
				initSlider("#slider-vertical4", "#amount4");
				initSlider("#slider-vertical5", "#amount5");
				initSlider("#slider-vertical6", "#amount6");
				initSlider("#slider-vertical7", "#amount7");
 			});

			function submitData(force) {
				var sliderData = $( "#amount1" ).val()+","+
					$( "#amount2" ).val()+","+
					$( "#amount3" ).val()+","+
					$( "#amount4" ).val()+","+
					$( "#amount5" ).val()+","+
					$( "#amount6" ).val()+","+
					$( "#amount7" ).val();
				
				if (sentData !== sliderData){
					postData('test', sliderData);

					sentData = sliderData;
				}

				setTimeout(submitData, timeoutInterval);
			};

			$(document).ready(function() {
				submitData();
			});
		</script>
		<table>
			<tr>
				<td>
					<div class="volume-header">
						<label class="volume-label" for="amount1">Ch 1:</label><input class="volume-ammount" type="text" id="amount1" readonly>
					</div>
				</td>
				<td>
					<div class="volume-header">
						<label class="volume-label" for="amount2">Ch 2:</label><input class="volume-ammount" type="text" id="amount2" readonly>
					</div>
				</td>
				<td>
					<div class="volume-header">
						<label class="volume-label" for="amount3">Ch 3:</label><input class="volume-ammount" type="text" id="amount3" readonly>
					</div>
				</td>
				<td>
					<div class="volume-header">
						<label class="volume-label" for="amount4">Ch 4:</label><input class="volume-ammount" type="text" id="amount4" readonly>
					</div>
				</td>
				<td>
					<div class="volume-header">
						<label class="volume-label" for="amount5">Ch 5:</label><input class="volume-ammount" type="text" id="amount5" readonly>
					</div>
				</td>
				<td>
					<div class="volume-header">
						<label class="volume-label" for="amount6">Ch 6:</label><input class="volume-ammount" type="text" id="amount6" readonly>
					</div>
				</td>
				<td>
					<div class="volume-header">
						<label class="volume-label" for="amount7">Master:</label><input class="volume-ammount" type="text" id="amount7" readonly>
					</div>
				</td>
			</tr>
			<tr>
				<td>
					<div class="volume-slider" id="slider-vertical1" style="height:200px;"></div>
				</td>
				<td>
					<div class="volume-slider" id="slider-vertical2" style="height:200px;"></div>
				</td>
				<td>
					<div class="volume-slider" id="slider-vertical3" style="height:200px;"></div>
				</td>
				<td>
					<div class="volume-slider" id="slider-vertical4" style="height:200px;"></div>
				</td>
				<td>
					<div class="volume-slider" id="slider-vertical5" style="height:200px;"></div>
				</td>
				<td>
					<div class="volume-slider" id="slider-vertical6" style="height:200px;"></div>
				</td>
				<td>
					<div class="volume-slider" id="slider-vertical7" style="height:200px;"></div>
				</td>
			</tr>
		</table>
	</body>
</html>